;NOT RAINING
	AREA main, CODE , READONLY
	EXPORT __main
	ENTRY 
__main
	LDR R1 ,=0X20000000  ;R1 IS CONNECTED TO THE RAINDROP SENSOR (THE LAST BIT OF 0X20000000) and  THE SECOND LAST IS CONNECTED TO THE WIPER
	MOVT R4 , #0X2000	;REQUIRED IN FUTURE CALCULATION
loop 
	MOVS R2 , #0      	;R2 = 1 IF ITS RAINING AND =0 IF ITS NOT
	ANDEQ R1 , R4 		;IF R2 IS ZERO(FLAG SET)THEN IT TURNS OFF THE WIPER(IF IT IS ON)
	ORR R1 , R2        ;RAIN SENSOR INPUT TURNS HIGH IF R2 =1 ie raining and STAYS LOW IF R2 =0 ie not raining
	SUBS R3 , R1 , R4  ;UPDATES THE FLAGS TO CHECK THE LAST BIT  
	ORRNE R1 , #0X10	;IF THE LAST BIT IS SET ie THE SENSOR IS SENSING, THEN IT WILL SET THE 2ND LAST BIT ie turns on the wiper
	B loop				;GOES BACK TO THE START OF THE LOOP TO CHECK IF ITS RAINING AGAIN ie R2
						; AND THE LOOP CONTINOUSLY KEEPS RUNNING AND KEEPS CHECKING R2 (STATUS OF THE RAIN)
	
	
	AREA main, CODE , READONLY
	EXPORT __main
	ENTRY 
__main
	LDR R1, =src
	LDR R2, =src
	LDR R3, =0x20001000
	MOV R4, #'N'
    MOV R5, #'Y'
	
loop 
	LDRB R6,[R2],#1
	MOVS R7, R6
	BNE loop
	SUB R2, #1
loop1
	LDRB R8, [R1], #1
	LDRB R9, [R2], #-1
	CMP R8, R9
	BNE NOT
	CMP R1,R2
	MOVEQ R10, R5
	STR R10, [R3]
	BEQ STOP
	BNE loop1
NOT
	STR R4, [R3]
	B STOP
STOP B STOP
	
	ALIGN

	AREA srcHEY, DATA, READONLY
src DCB "TARUSHCHUTIYA",0
	END
	
	
